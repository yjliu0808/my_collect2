
<!-- saved from url=(0081)http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./TEST DATABASE DAY02_w_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./TEST DATABASE DAY02_w_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./TEST DATABASE DAY02_w_files/main.js">
    </script>
    <link type="text/css" href="./TEST DATABASE DAY02_w_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./TEST DATABASE DAY02_w_files/jquery.snippet.css" rel="Stylesheet">
  </head>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#page_top_case">Top</a>
      <h1>TEST DATABASE DAY02</h1>
      <ol class="index">
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#case1">练习基本SQL查询</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#case2">练习带条件的查询</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#case3">练习聚合函数的使用</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#case4">练习使用子查询</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 练习基本SQL查询</h2>
      <h3>1.1 问题</h3>
      <p>查询emp表的信息，完成下列SQL语句的编写：</p>
      <p>1）查询emp表中所有的数据；</p>
      <p>2）查询dept表中所有的数据信息；</p>
      <p>3）查询emp表中的员工的姓名，编号，职位，工资，奖金；</p>
      <p>4）查询emp表中的员工的编号，姓名，职位，上级领导编号；</p>
      <p>5）查询emp表的职位，要求不重复；</p>
      <p>6) 根据员工的薪水从小到大排序；</p>
      <p>7) 根据员工的薪水升序排列，如果薪水一样，则根据编号降序排列；</p>
      <p>8）查询emp表中的员工的编号，姓名，部门编号。</p>
      <h3>1.2 方案</h3>
      <p>查询所有的记录</p>
      <p class="number">格式：</p>
      <p>select    *   from   表名</p>
      <p class="emphasiz">说明： * 代表要查询所有的列</p>
      <p>查询所有记录的某些字段</p>
      <p>select    列名1，列名2，……   from   表名</p>
      <p class="emphasiz">说明： 列的顺序可以与表结构的顺序不同，列之间使用逗号分隔。</p>
      <p>distinct ：Oracle中专门用于去掉重复的列值。</p>
      <p>distinct的位置只能在select之后，第一个字段名之前，用于去掉第一个列中重复的列值。</p>
      <p>排序使用order by子句，分为升序和降序；</p>
      <p>升序排序 使用asc关键字，不写默认就是asc ；</p>
      <p>降序排序使用desc关键字 。</p>
      <h3>1.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：查询emp表中所有的数据</p>
      <p>查询emp表中所有的数据，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp;
</pre></div></div>
      <p class="number">步骤二：查询dept表中所有的数据信息</p>
      <p>查询dept表中所有的数据信息，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from dept </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from dept 
</pre></div></div>
      <p class="number">步骤三：查询emp表中的员工的姓名，编号，职位，工资，奖金</p>
      <p>查询emp表中的员工的姓名，编号，职位，工资，奖金，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>empno<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>comm from emp<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,empno,job,sal,comm from emp;
</pre></div></div>
      <p class="number">步骤四：查询emp表中的员工的编号，姓名，职位，上级领导编号</p>
      <p>查询emp表中的员工的编号，姓名，职位，上级领导编号，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>mgr from emp<span class="sh_symbol">;;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno,ename,job,mgr from emp;; 
</pre></div></div>
      <p class="number">步骤五：查询emp表的职位，要求不重复</p>
      <p>查询emp表的职位，要求不重复，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select distinct job from emp <span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select distinct job from emp ; 
</pre></div></div>
      <p class="number">步骤六：根据员工的薪水从小到大排序</p>
      <p>根据员工的薪水从小到大排序，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename <span class="sh_symbol">,</span> sal from emp </li><li>order by sal asc<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename , sal from emp 
order by sal asc;
</pre></div></div>
      <p class="number">步骤七：根据员工的薪水升序排列，如果薪水一样，则根据编号降序排列</p>
      <p>根据员工的薪水升序排列，如果薪水一样，则根据编号降序排列，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno <span class="sh_symbol">,</span> ename <span class="sh_symbol">,</span> sal from emp </li><li>    order by sal asc <span class="sh_symbol">,</span> empno desc<span class="sh_symbol">;</span>  </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno , ename , sal from emp 
    order by sal asc , empno desc;  
</pre></div></div>
      <p class="number">步骤八：查询emp表中的员工的编号，姓名，部门编号</p>
      <p>查询emp表中的员工的编号，姓名，部门编号，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>deptno from emp<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno,ename,deptno from emp;
</pre></div></div>
      <p class="number">完整SQL语句</p>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">--</span>查询emp表中所有的数据</li><li>select <span class="sh_symbol">*</span> from emp<span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>查询dept表中所有的数据信息</li><li>select <span class="sh_symbol">*</span> from dept </li><li><span class="sh_symbol">--</span>查询emp表中的员工的姓名，编号，职位，工资，奖金</li><li>select ename<span class="sh_symbol">,</span>empno<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>comm from emp<span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>查询emp表中的员工的编号，姓名，职位，上级领导编号</li><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>mgr from emp<span class="sh_symbol">;;</span> </li><li><span class="sh_symbol">--</span>查询emp表的职位，要求不重复</li><li>select distinct job from emp <span class="sh_symbol">;</span> </li><li><span class="sh_symbol">--</span>根据员工的薪水从小到大排序，SQL语句如下所示：</li><li>select ename <span class="sh_symbol">,</span> sal from emp </li><li>order by sal asc<span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>根据员工的薪水升序排列，如果薪水一样，则根据编号降序排列</li><li>select empno <span class="sh_symbol">,</span> ename <span class="sh_symbol">,</span> sal from emp </li><li>order by sal asc <span class="sh_symbol">,</span> empno desc<span class="sh_symbol">;</span>  </li><li><span class="sh_symbol">--</span>查询emp表中的员工的编号，姓名，部门编号</li><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>deptno from emp<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">--查询emp表中所有的数据
select * from emp;
--查询dept表中所有的数据信息
select * from dept 
--查询emp表中的员工的姓名，编号，职位，工资，奖金
select ename,empno,job,sal,comm from emp;
--查询emp表中的员工的编号，姓名，职位，上级领导编号
select empno,ename,job,mgr from emp;; 
--查询emp表的职位，要求不重复
select distinct job from emp ; 
--根据员工的薪水从小到大排序，SQL语句如下所示：
select ename , sal from emp 
order by sal asc;
--根据员工的薪水升序排列，如果薪水一样，则根据编号降序排列
select empno , ename , sal from emp 
order by sal asc , empno desc;  
--查询emp表中的员工的编号，姓名，部门编号
select empno,ename,deptno from emp;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case2">
      </a>
      <h2>2 练习带条件的查询</h2>
      <h3>2.1 问题</h3>
      <p>查询emp表的信息，完成下列SQL语句的编写：</p>
      <p>1）查询职位是MANAGER的员工的名字，上级领导编号，职位；</p>
      <p>2）查询工资超过2000的员工的名字，工资，职位；</p>
      <p>3）查询奖金小于300的员工的名字，奖金，职位；</p>
      <p>4）查询部门编号是20的员工的名字，部门编号，及职位；</p>
      <p>5）查询编号是7369的员工的所有的信息；</p>
      <p>6) 查询出emp表中奖金为null的员工的所有信息；</p>
      <p>7) 查询出emp表中上级领导不为null的员工的编号，职位，工资上级领导编号；</p>
      <p>8）查询emp表，雇员的名字中的第1个字母是‘K’的员工的名字；</p>
      <p>9）查询emp表，雇员的名字中的倒数第3个字母是‘L’的员工的名字；</p>
      <p>10）查询emp表，雇员的名字中包含大写字母‘A’的员工的名字；</p>
      <p>11）查询emp表中，雇员的职位是SALESMAN或者工资高于3000员工的名字，职位，工资；</p>
      <p>12）查询emp表中，雇员的没有奖金并且雇员的工资低于2000的员工编号，名字，工资，奖金；</p>
      <p>13）查询emp表中，雇员的部门编号是30，或者雇员的奖金不为null所有信息；</p>
      <p>14）查询工资在1500~5000之间，所有员工的姓名,职位，工资；</p>
      <p>15）查询emp表中，名字是ALLEN，BLAKE，CLARK，KING的员工的编号，姓名，职位；</p>
      <p>16）查询emp表中，职位不是SALESMAN，PRESIDENT，ANALYST的员工的名字和职位。</p>
      <h3>2.2 方案</h3>
      <p class="number">关系运算符：</p>
      <p>&gt;,&gt;=,&lt;,&lt;=,!=,&lt;,&gt;</p>
      <p class="number">is null / is not null：</p>
      <p>用来判断该列的数据是否为null</p>
      <p class="number">模糊查询—like：</p>
      <p class="number">%:</p>
      <p>指代任意0个或者多个字符</p>
      <p class="number">_:</p>
      <p>指代任意的一个字符</p>
      <p class="number">逻辑运算符：</p>
      <p>and ,or ,not</p>
      <p class="number">between A and B：</p>
      <p>取出[A,B]之间所有的数值</p>
      <p class="number">in：</p>
      <p>相当于多个or运算符</p>
      <h3>2.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：查询职位是MANAGER的员工的名字，上级领导编号，职位</p>
      <p>查询职位是MANAGER的员工的名字，上级领导编号，职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>mgr<span class="sh_symbol">,</span>job from emp</li><li>where job <span class="sh_symbol">=</span> <span class="sh_string">'MANAGER'</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,mgr,job from emp
where job = 'MANAGER'; 
</pre></div></div>
      <p class="number">步骤二：查询工资超过2000的员工的名字，工资，职位</p>
      <p>查询工资超过2000的员工的名字，工资，职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>job from emp where sal <span class="sh_symbol">&gt;</span> <span class="sh_number">2000</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,sal,job from emp where sal &gt; 2000; 
</pre></div></div>
      <p class="number">步骤三：查询奖金小于300的员工的名字，奖金，职位</p>
      <p>查询奖金小于300的员工的名字，奖金，职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>comm<span class="sh_symbol">,</span>job from emp where comm <span class="sh_symbol">&lt;</span> <span class="sh_number">300</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,comm,job from emp where comm &lt; 300; 
</pre></div></div>
      <p class="number">步骤四：查询部门编号是20的员工的名字，部门编号，及职位</p>
      <p>查询部门编号是20的员工的名字，部门编号，及职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>deptno<span class="sh_symbol">,</span>job from emp where deptno <span class="sh_symbol">=</span> <span class="sh_number">20</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,deptno,job from emp where deptno = 20; 
</pre></div></div>
      <p class="number">步骤五：查询编号是7369的员工的所有的信息</p>
      <p>查询编号是7369的员工的所有的信息，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp where empno <span class="sh_symbol">=</span> <span class="sh_number">7369</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp where empno = 7369; 
</pre></div></div>
      <p class="number">步骤六：查询出emp表中奖金为null的员工的所有信息</p>
      <p>查询出emp表中奖金为null的员工的所有信息，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp where comm is <span class="sh_keyword">null</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp where comm is null; 
</pre></div></div>
      <p class="number">步骤七：查询出emp表中上级领导不为null的员工的编号，职位，工资上级领导编号</p>
      <p>查询出emp表中上级领导不为null的员工的编号，职位，工资上级领导编号，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>mgr from emp</li><li>where mgr is not <span class="sh_keyword">null</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno,job,sal,mgr from emp
where mgr is not null; 
</pre></div></div>
      <p class="number">步骤八：查询emp表，雇员的名字中的第1个字母是‘K’的员工的名字</p>
      <p>查询emp表，雇员的名字中的第1个字母是‘K’的员工的名字，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename from emp where ename like <span class="sh_string">'K%'</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename from emp where ename like 'K%'; 
</pre></div></div>
      <p class="number">步骤九：查询emp表，雇员的名字中的倒数第3个字母是‘L’的员工的名字</p>
      <p>查询emp表，雇员的名字中的倒数第3个字母是‘L’的员工的名字，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename from emp where ename like <span class="sh_string">'%L__'</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename from emp where ename like '%L__'; 
</pre></div></div>
      <p class="number">步骤十：查询emp表，雇员的名字中包含大写字母‘A’的员工的名字</p>
      <p>查询emp表，雇员的名字中包含大写字母‘A’的员工的名字，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename from emp where ename like <span class="sh_string">'%A%'</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename from emp where ename like '%A%'; 
</pre></div></div>
      <p class="number">步骤十一：查询emp表中，雇员的职位是SALESMAN或者工资高于3000员工的名字，职位，工资</p>
      <p>查询emp表中，雇员的职位是SALESMAN或者工资高于3000员工的名字，职位，工资，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal from emp </li><li>where job<span class="sh_symbol">=</span><span class="sh_string">'SALESMAN'</span> or sal<span class="sh_symbol">&gt;</span><span class="sh_number">3000</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,job,sal from emp 
where job='SALESMAN' or sal&gt;3000; 
</pre></div></div>
      <p class="number">步骤十二：查询emp表中，雇员的没有奖金并且雇员的工资低于2000的员工编号，名字，工资，奖金</p>
      <p>查询emp表中，雇员的没有奖金并且雇员的工资低于2000的员工编号，名字，工资，奖金，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>comm from emp</li><li>where comm is <span class="sh_keyword">null</span>  and sal <span class="sh_symbol">&lt;</span> <span class="sh_number">2000</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno,ename,sal,comm from emp
where comm is null  and sal &lt; 2000; 
</pre></div></div>
      <p class="number">步骤十三：查询emp表中，雇员的部门编号是30，或者雇员的奖金不为null所有信息</p>
      <p>查询emp表中，雇员的部门编号是30，或者雇员的奖金不为null所有信息，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp</li><li>where deptno<span class="sh_symbol">=</span><span class="sh_number">30</span> or comm is not <span class="sh_keyword">null</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp
where deptno=30 or comm is not null; 
</pre></div></div>
      <p class="number">步骤十四：查询工资在1500~5000之间，所有员工的姓名,职位，工资</p>
      <p>查询工资在1500~5000之间，所有员工的姓名,职位，工资，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal from emp</li><li>where sal between <span class="sh_number">1500</span> and <span class="sh_number">5000</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,job,sal from emp
where sal between 1500 and 5000; 
</pre></div></div>
      <p class="number">步骤十五：查询emp表中，名字是ALLEN，BLAKE，CLARK，KING的员工的编号，姓名，职位</p>
      <p>查询emp表中，名字是ALLEN，BLAKE，CLARK，KING的员工的编号，姓名，职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>job from emp</li><li>where ename <span class="sh_keyword">in</span><span class="sh_symbol">(</span><span class="sh_string">'ALLEN'</span><span class="sh_symbol">,</span><span class="sh_string">'BLAKE'</span><span class="sh_symbol">,</span><span class="sh_string">'CLARK'</span><span class="sh_symbol">,</span><span class="sh_string">'KING'</span><span class="sh_symbol">)</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno,ename,job from emp
where ename in('ALLEN','BLAKE','CLARK','KING') 
</pre></div></div>
      <p class="number">步骤十六：查询emp表中，职位不是SALESMAN，PRESIDENT，ANALYST的员工的名字和职位</p>
      <p>查询emp表中，职位不是SALESMAN，PRESIDENT，ANALYST的员工的名字和职位，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select ename<span class="sh_symbol">,</span>job from emp</li><li>where job not <span class="sh_keyword">in</span><span class="sh_symbol">(</span><span class="sh_string">'SALESMAN'</span><span class="sh_symbol">,</span><span class="sh_string">'PRESIDENT'</span><span class="sh_symbol">,</span><span class="sh_string">'ANALYST'</span><span class="sh_symbol">);</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select ename,job from emp
where job not in('SALESMAN','PRESIDENT','ANALYST');
</pre></div></div>
      <p class="number">完整SQL语句</p>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">--</span>案例：查询职位是MANAGER的员工的名字，上级领导编号，职位</li><li>select ename<span class="sh_symbol">,</span>mgr<span class="sh_symbol">,</span>job from emp</li><li>where job <span class="sh_symbol">=</span> <span class="sh_string">'MANAGER'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询工资超过<span class="sh_number">2000</span>的员工的名字，工资，职位</li><li>select ename<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>job from emp where sal <span class="sh_symbol">&gt;</span> <span class="sh_number">2000</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询奖金小于<span class="sh_number">300</span>的员工的名字，奖金，职位</li><li>select ename<span class="sh_symbol">,</span>comm<span class="sh_symbol">,</span>job from emp where comm <span class="sh_symbol">&lt;</span> <span class="sh_number">300</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询部门编号是<span class="sh_number">20</span>的员工的名字，部门编号，及职位</li><li>select ename<span class="sh_symbol">,</span>deptno<span class="sh_symbol">,</span>job from emp where deptno <span class="sh_symbol">=</span> <span class="sh_number">20</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询编号是<span class="sh_number">7369</span>的员工的所有的信息</li><li>select <span class="sh_symbol">*</span> from emp where empno <span class="sh_symbol">=</span> <span class="sh_number">7369</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询出emp表中奖金为<span class="sh_keyword">null</span>的员工的所有信息</li><li>select <span class="sh_symbol">*</span> from emp where comm is <span class="sh_keyword">null</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询出emp表中上级领导不为<span class="sh_keyword">null</span>的员工的编号，职位，工资</li><li><span class="sh_symbol">--</span>上级领导编号</li><li>select empno<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>mgr from emp</li><li>where mgr is not <span class="sh_keyword">null</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表，雇员的名字中的第<span class="sh_number">1</span>个字母是‘K’的员工的名字</li><li>select ename from emp where ename like <span class="sh_string">'K%'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表，雇员的名字中的倒数第<span class="sh_number">3</span>个字母是‘L’的员工的名字</li><li>select ename from emp where ename like <span class="sh_string">'%L__'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表，雇员的名字中包含大写字母‘A’的员工的名字</li><li>select ename from emp where ename like <span class="sh_string">'%A%'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表中，雇员的职位是SALESMAN或者工资高于<span class="sh_number">3000</span>员工的</li><li><span class="sh_symbol">--</span>名字，职位，工资</li><li>select ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal from emp </li><li>where job<span class="sh_symbol">=</span><span class="sh_string">'SALESMAN'</span> or sal<span class="sh_symbol">&gt;</span><span class="sh_number">3000</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表中，雇员的没有奖金并且雇员的工资低于<span class="sh_number">2000</span>的员工</li><li><span class="sh_symbol">--</span>编号，名字，工资，奖金</li><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>sal<span class="sh_symbol">,</span>comm from emp</li><li>where comm is <span class="sh_keyword">null</span>  and sal <span class="sh_symbol">&lt;</span> <span class="sh_number">2000</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询emp表中，雇员的部门编号是<span class="sh_number">30</span>，或者雇员的奖金不为<span class="sh_keyword">null</span></li><li><span class="sh_symbol">--</span>所有信息</li><li>where deptno<span class="sh_symbol">=</span><span class="sh_number">30</span> or comm is not <span class="sh_keyword">null</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">--</span>案例：查询工资在<span class="sh_number">1500</span><span class="sh_symbol">~</span><span class="sh_number">5000</span>之间，所有员工的姓名<span class="sh_symbol">,</span>职位，工资</li><li>select ename<span class="sh_symbol">,</span>job<span class="sh_symbol">,</span>sal from emp</li><li>where sal between <span class="sh_number">1500</span> and <span class="sh_number">5000</span></li><li><span class="sh_symbol">--</span>案例：查询emp表中，名字是ALLEN，BLAKE，CLARK，KING的员工的</li><li><span class="sh_symbol">--</span>编号，姓名，职位</li><li>select empno<span class="sh_symbol">,</span>ename<span class="sh_symbol">,</span>job from emp</li><li>where ename <span class="sh_keyword">in</span><span class="sh_symbol">(</span><span class="sh_string">'ALLEN'</span><span class="sh_symbol">,</span><span class="sh_string">'BLAKE'</span><span class="sh_symbol">,</span><span class="sh_string">'CLARK'</span><span class="sh_symbol">,</span><span class="sh_string">'KING'</span><span class="sh_symbol">)</span></li><li><span class="sh_symbol">--</span>案例：查询emp表中，职位不是SALESMAN，PRESIDENT，ANALYST的员工</li><li><span class="sh_symbol">--</span>的名字和职位</li><li>select ename<span class="sh_symbol">,</span>job from emp</li><li>where job not <span class="sh_keyword">in</span><span class="sh_symbol">(</span><span class="sh_string">'SALESMAN'</span><span class="sh_symbol">,</span><span class="sh_string">'PRESIDENT'</span><span class="sh_symbol">,</span><span class="sh_string">'ANALYST'</span><span class="sh_symbol">);</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">--案例：查询职位是MANAGER的员工的名字，上级领导编号，职位
select ename,mgr,job from emp
where job = 'MANAGER';
--案例：查询工资超过2000的员工的名字，工资，职位
select ename,sal,job from emp where sal &gt; 2000;
--案例：查询奖金小于300的员工的名字，奖金，职位
select ename,comm,job from emp where comm &lt; 300;
--案例：查询部门编号是20的员工的名字，部门编号，及职位
select ename,deptno,job from emp where deptno = 20;
--案例：查询编号是7369的员工的所有的信息
select * from emp where empno = 7369;
--案例：查询出emp表中奖金为null的员工的所有信息
select * from emp where comm is null;
--案例：查询出emp表中上级领导不为null的员工的编号，职位，工资
--上级领导编号
select empno,job,sal,mgr from emp
where mgr is not null;
--案例：查询emp表，雇员的名字中的第1个字母是‘K’的员工的名字
select ename from emp where ename like 'K%';
--案例：查询emp表，雇员的名字中的倒数第3个字母是‘L’的员工的名字
select ename from emp where ename like '%L__';
--案例：查询emp表，雇员的名字中包含大写字母‘A’的员工的名字
select ename from emp where ename like '%A%';
--案例：查询emp表中，雇员的职位是SALESMAN或者工资高于3000员工的
--名字，职位，工资
select ename,job,sal from emp 
where job='SALESMAN' or sal&gt;3000;
--案例：查询emp表中，雇员的没有奖金并且雇员的工资低于2000的员工
--编号，名字，工资，奖金
select empno,ename,sal,comm from emp
where comm is null  and sal &lt; 2000;
--案例：查询emp表中，雇员的部门编号是30，或者雇员的奖金不为null
--所有信息
where deptno=30 or comm is not null;
--案例：查询工资在1500~5000之间，所有员工的姓名,职位，工资
select ename,job,sal from emp
where sal between 1500 and 5000
--案例：查询emp表中，名字是ALLEN，BLAKE，CLARK，KING的员工的
--编号，姓名，职位
select empno,ename,job from emp
where ename in('ALLEN','BLAKE','CLARK','KING')
--案例：查询emp表中，职位不是SALESMAN，PRESIDENT，ANALYST的员工
--的名字和职位
select ename,job from emp
where job not in('SALESMAN','PRESIDENT','ANALYST'); 
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case3">
      </a>
      <h2>3 练习聚合函数的使用</h2>
      <h3>3.1 问题</h3>
      <p>查询emp表的信息，完成下列SQL语句的编写：</p>
      <p>1）查询emp表中，所有员工的数量，工资的总和，工资的平均值，最高工资，最低工资；</p>
      <p>2）查询emp表，查询出每个部门员工的人数，部门工资总的支出，以及部门的平均工资，工资的最大值和最小值；</p>
      <p>3）查询emp表，查询出每个职业（job），工资的平均值，最大值，最小值,根据平均工资降序排列；</p>
      <p>4）查询emp表中，要求必须要有上级领导（mgr），每个部门的平均工资，最高工资，最低工资，而且要求平均薪水要超过1800，根据最高工资，进行升序排列；</p>
      <p>5）查询emp表，要求没有奖金，每个职业（job）的平均工资，最高工资，要求最高工资要高于2980，最后根据最高工资进行降序排列。</p>
      <h3>3.2 方案</h3>
      <p>聚合函数：count,sum,avg,max,min，省略null值。</p>
      <p>分组：根据列把表中所有的数据，分成几组，然后再每一组数据中，使用聚合函数（组函数）：</p>
      <p>group by 列名；</p>
      <p>having 子句：在分组以后，对数据再次进行过滤（一般都是结合聚合函数）。</p>
      <h3>3.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：查询emp表中，所有员工的数量，工资的总和，工资的平均值，最高工资，最低工资</p>
      <p>查询emp表中，所有员工的数量，工资的总和，工资的平均值，最高工资，最低工资，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">count</span><span class="sh_symbol">(*),</span><span class="sh_function">sum</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> from emp<span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select count(*),sum(sal),avg(sal),max(sal),min(sal) from emp; 
</pre></div></div>
      <p class="number">步骤二：查询emp表，查询出每个部门员工的人数，部门工资总的支出，以及部门的平均工资，工资的最大值和最小值</p>
      <p>查询emp表，查询出每个部门员工的人数，部门工资总的支出，以及部门的平均工资，工资的最大值和最小值，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">count</span><span class="sh_symbol">(*)</span> 该部门的人数<span class="sh_symbol">,</span><span class="sh_function">sum</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门工资总的支出<span class="sh_symbol">,</span> </li><li><span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门的平均工资<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门最高工资<span class="sh_symbol">,</span></li><li><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门最低工资<span class="sh_symbol">,</span> </li><li>deptno 部门编号</li><li>from emp</li><li>group by deptno<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select count(*) 该部门的人数,sum(sal) 该部门工资总的支出, 
avg(sal) 该部门的平均工资,max(sal) 该部门最高工资,
min(sal) 该部门最低工资, 
deptno 部门编号
from emp
group by deptno;
</pre></div></div>
      <p class="number">步骤三：查询emp表，查询出每个职业（job），工资的平均值，最大值，最小值,根据平均工资降序排列</p>
      <p>查询emp表，查询出每个职业（job），工资的平均值，最大值，最小值,根据平均工资降序排列，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span> <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最低工资<span class="sh_symbol">,</span></li><li>job 职业</li><li>from emp</li><li>group by job</li><li>order by 平均工资 desc<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select avg(sal) 平均工资, max(sal) 最高工资,min(sal) 最低工资,
job 职业
from emp
group by job
order by 平均工资 desc;
</pre></div></div>
      <p class="number">步骤四：查询emp表中，要求必须要有上级领导（mgr），每个部门的平均工资，最高工资，最低工资，而且要求平均薪水要超过1800，根据最高工资，进行升序排列</p>
      <p>查询emp表中，要求必须要有上级领导（mgr），每个部门的平均工资，最高工资，最低工资，而且要求平均薪水要超过1800，根据最高工资，进行升序排列，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最低工资<span class="sh_symbol">,</span></li><li>deptno 部门编号</li><li>from emp</li><li>where mgr is not <span class="sh_keyword">null</span></li><li>group by deptno</li><li>having <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)&gt;</span><span class="sh_number">1800</span></li><li>order by 最高工资<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select avg(sal) 平均工资,max(sal) 最高工资,min(sal) 最低工资,
deptno 部门编号
from emp
where mgr is not null
group by deptno
having avg(sal)&gt;1800
order by 最高工资;
</pre></div></div>
      <p class="number">步骤五：查询emp表，要求没有奖金，每个职业（job）的平均工资，最高工资，要求最高工资要高于2980，最后根据最高工资进行降序排列</p>
      <p>查询emp表，要求没有奖金，每个职业（job）的平均工资，最高工资，要求最高工资要高于2980，最后根据最高工资进行降序排列，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span> <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span> job 职位</li><li>from emp</li><li>where comm is <span class="sh_keyword">null</span></li><li>group by job</li><li>having <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)&gt;</span><span class="sh_number">2980</span></li><li>order by <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> desc<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select avg(sal) 平均工资, max(sal) 最高工资, job 职位
from emp
where comm is null
group by job
having max(sal)&gt;2980
order by max(sal) desc;
</pre></div></div>
      <p class="number">完整SQL语句</p>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_function">count</span><span class="sh_symbol">(*),</span><span class="sh_function">sum</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">),</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> from emp<span class="sh_symbol">;</span> </li><li>select <span class="sh_function">count</span><span class="sh_symbol">(*)</span> 该部门的人数<span class="sh_symbol">,</span><span class="sh_function">sum</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门工资总的支出<span class="sh_symbol">,</span> </li><li><span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门的平均工资<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门最高工资<span class="sh_symbol">,</span></li><li><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 该部门最低工资<span class="sh_symbol">,</span> </li><li>deptno 部门编号</li><li>from emp</li><li>group by deptno<span class="sh_symbol">;</span></li><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span> <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最低工资<span class="sh_symbol">,</span></li><li>job 职业</li><li>from emp</li><li>group by job</li><li>order by 平均工资 desc<span class="sh_symbol">;</span></li><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span><span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最低工资<span class="sh_symbol">,</span></li><li>deptno 部门编号</li><li>from emp</li><li>where mgr is not <span class="sh_keyword">null</span></li><li>group by deptno</li><li>having <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)&gt;</span><span class="sh_number">1800</span></li><li>order by 最高工资<span class="sh_symbol">;</span></li><li>select <span class="sh_function">avg</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 平均工资<span class="sh_symbol">,</span> <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> 最高工资<span class="sh_symbol">,</span> job 职位</li><li>from emp</li><li>where comm is <span class="sh_keyword">null</span></li><li>group by job</li><li>having <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)&gt;</span><span class="sh_number">2980</span></li><li>order by <span class="sh_function">max</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> desc<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select count(*),sum(sal),avg(sal),max(sal),min(sal) from emp; 
select count(*) 该部门的人数,sum(sal) 该部门工资总的支出, 
avg(sal) 该部门的平均工资,max(sal) 该部门最高工资,
min(sal) 该部门最低工资, 
deptno 部门编号
from emp
group by deptno;
select avg(sal) 平均工资, max(sal) 最高工资,min(sal) 最低工资,
job 职业
from emp
group by job
order by 平均工资 desc;
select avg(sal) 平均工资,max(sal) 最高工资,min(sal) 最低工资,
deptno 部门编号
from emp
where mgr is not null
group by deptno
having avg(sal)&gt;1800
order by 最高工资;
select avg(sal) 平均工资, max(sal) 最高工资, job 职位
from emp
where comm is null
group by job
having max(sal)&gt;2980
order by max(sal) desc;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case4">
      </a>
      <h2>4 练习使用子查询</h2>
      <h3>4.1 问题</h3>
      <p>查询emp表和dept表的信息，完成下列SQL语句的编写：</p>
      <p>1）求出谁的工资最低的员工的编号，名字及工资；</p>
      <p>2）谁和SMITH从事同样的工作；</p>
      <p>3）列出薪金高于公司平均水平的所有雇员信息；</p>
      <p>4）列出薪金高于在部门30工作的所有雇员的姓名和薪金；</p>
      <p>5）查询各部门薪水最高的员工。</p>
      <h3>4.2 方案</h3>
      <p>子查询也称为查询的嵌套，将select语句嵌套在其它SQL语句中</p>
      <p>核心思想：</p>
      <p>化繁为简、分而治之</p>
      <p>主要部分：</p>
      <p>主查询  获取最终结果的查询语句或SQL</p>
      <p>子查询  获取中间数据的查询语句</p>
      <p>子查询执行的顺序</p>
      <p>先执行子查询，返回结果后，再执行主查询</p>
      <p>子查询的分类</p>
      <p>非关联子查询：不存在关联关系</p>
      <p>关联子查询：存在关联关联 需要进行表连接</p>
      <p>子查询的结果：一般都有结果</p>
      <p>单值：sal = 750    min(sal)</p>
      <p>多值：in(10, 20, 30)</p>
      <h3>4.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：求出谁的工资最低的员工的编号，名字及工资</p>
      <p>求出谁的工资最低的员工的编号，名字及工资，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span> ename<span class="sh_symbol">,</span> sal </li><li>from emp </li><li>where sal <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>select <span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> </li><li>                              from emp<span class="sh_symbol">);</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno, ename, sal 
from emp 
where sal = (select min(sal) 
                              from emp);
</pre></div></div>
      <p class="number">步骤二：谁和SMITH从事同样的工作</p>
      <p>谁和SMITH从事同样的工作，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select empno<span class="sh_symbol">,</span> ename<span class="sh_symbol">,</span> job</li><li>from emp </li><li>where job <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>select job </li><li>                 from emp </li><li>                 where ename <span class="sh_symbol">=</span> <span class="sh_string">'SMITH'</span><span class="sh_symbol">)</span></li><li>and ename <span class="sh_symbol">&lt;&gt;</span> <span class="sh_string">'SMITH'</span><span class="sh_symbol">;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select empno, ename, job
from emp 
where job = (select job 
                 from emp 
                 where ename = 'SMITH')
and ename &lt;&gt; 'SMITH'; 
</pre></div></div>
      <p class="number">步骤三：列出薪金高于公司平均水平的所有雇员信息</p>
      <p>列出薪金高于公司平均水平的所有雇员信息，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp e</li><li>where e<span class="sh_symbol">.</span>sal <span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">(</span></li><li>  select <span class="sh_function">avg</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">.</span>sal<span class="sh_symbol">)</span></li><li>  from emp e1</li><li><span class="sh_symbol">);</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp e
where e.sal &gt;
(
  select avg(e1.sal)
  from emp e1
); 
</pre></div></div>
      <p class="number">步骤四：列出薪金高于在部门30工作的所有雇员的姓名和薪金</p>
      <p>列出薪金高于在部门30工作的所有雇员的姓名和薪金，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select e<span class="sh_symbol">.</span>ename<span class="sh_symbol">,</span>e<span class="sh_symbol">.</span>sal from emp e</li><li>where e<span class="sh_symbol">.</span>sal <span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">(</span></li><li> select <span class="sh_function">max</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">.</span>sal<span class="sh_symbol">)</span> from emp e1</li><li> where e1<span class="sh_symbol">.</span>deptno<span class="sh_symbol">=</span><span class="sh_number">30</span></li><li><span class="sh_symbol">);</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select e.ename,e.sal from emp e
where e.sal &gt;
(
 select max(e1.sal) from emp e1
 where e1.deptno=30
); 
</pre></div></div>
      <p class="number">步骤五：查询各部门薪水最高的员工</p>
      <p>查询各部门薪水最高的员工，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from emp e<span class="sh_symbol">,(</span>select deptno<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span><span class="sh_function">nvl</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">,</span><span class="sh_number">0</span><span class="sh_symbol">))</span> sal</li><li>from emp group by deptno<span class="sh_symbol">)</span> s</li><li>where e<span class="sh_symbol">.</span>sal<span class="sh_symbol">=</span>s<span class="sh_symbol">.</span>sal<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from emp e,(select deptno,max(nvl(sal,0)) sal
from emp group by deptno) s
where e.sal=s.sal;
</pre></div></div>
      <p class="number">完整SQL语句</p>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">--</span>求出谁的工资最低的员工的编号，名字及工资，SQL语句如下所示：</li><li>select empno<span class="sh_symbol">,</span> ename<span class="sh_symbol">,</span> sal </li><li>from emp </li><li>where sal <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>select <span class="sh_function">min</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">)</span> </li><li>                          from emp<span class="sh_symbol">);</span></li><li><span class="sh_symbol">--</span>谁和SMITH从事同样的工作，SQL语句如下所示：</li><li>select empno<span class="sh_symbol">,</span> ename<span class="sh_symbol">,</span> job</li><li>from emp </li><li>where job <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>select job </li><li>                 from emp </li><li>                 where ename <span class="sh_symbol">=</span> <span class="sh_string">'SMITH'</span><span class="sh_symbol">)</span></li><li>and ename <span class="sh_symbol">&lt;&gt;</span> <span class="sh_string">'SMITH'</span><span class="sh_symbol">;</span> </li><li><span class="sh_symbol">--</span>列出薪金高于公司平均水平的所有雇员信息</li><li>select <span class="sh_symbol">*</span> from emp e</li><li>where e<span class="sh_symbol">.</span>sal <span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">(</span></li><li>  select <span class="sh_function">avg</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">.</span>sal<span class="sh_symbol">)</span></li><li>  from emp e1</li><li><span class="sh_symbol">);</span> </li><li><span class="sh_symbol">--</span>列出薪金高于在部门<span class="sh_number">30</span>工作的所有雇员的姓名和薪金</li><li>select e<span class="sh_symbol">.</span>ename<span class="sh_symbol">,</span>e<span class="sh_symbol">.</span>sal from emp e</li><li>where e<span class="sh_symbol">.</span>sal <span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">(</span></li><li> select <span class="sh_function">max</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">.</span>sal<span class="sh_symbol">)</span> from emp e1</li><li> where e1<span class="sh_symbol">.</span>deptno<span class="sh_symbol">=</span><span class="sh_number">30</span></li><li><span class="sh_symbol">);</span> </li><li><span class="sh_symbol">--</span>查询各部门薪水最高的员工</li><li>select <span class="sh_symbol">*</span> from emp e<span class="sh_symbol">,(</span>select deptno<span class="sh_symbol">,</span><span class="sh_function">max</span><span class="sh_symbol">(</span><span class="sh_function">nvl</span><span class="sh_symbol">(</span>sal<span class="sh_symbol">,</span><span class="sh_number">0</span><span class="sh_symbol">))</span> sal</li><li>from emp group by deptno<span class="sh_symbol">)</span> s</li><li>where e<span class="sh_symbol">.</span>sal<span class="sh_symbol">=</span>s<span class="sh_symbol">.</span>sal<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">--求出谁的工资最低的员工的编号，名字及工资，SQL语句如下所示：
select empno, ename, sal 
from emp 
where sal = (select min(sal) 
                          from emp);
--谁和SMITH从事同样的工作，SQL语句如下所示：
select empno, ename, job
from emp 
where job = (select job 
                 from emp 
                 where ename = 'SMITH')
and ename &lt;&gt; 'SMITH'; 
--列出薪金高于公司平均水平的所有雇员信息
select * from emp e
where e.sal &gt;
(
  select avg(e1.sal)
  from emp e1
); 
--列出薪金高于在部门30工作的所有雇员的姓名和薪金
select e.ename,e.sal from emp e
where e.sal &gt;
(
 select max(e1.sal) from emp e1
 where e1.deptno=30
); 
--查询各部门薪水最高的员工
select * from emp e,(select deptno,max(nvl(sal,0)) sal
from emp group by deptno) s
where e.sal=s.sal;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
    </div>
  
</body></html>