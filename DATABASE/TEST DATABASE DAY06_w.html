
<!-- saved from url=(0081)http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./TEST DATABASE DAY06_w_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./TEST DATABASE DAY06_w_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./TEST DATABASE DAY06_w_files/main.js">
    </script>
    <link type="text/css" href="./TEST DATABASE DAY06_w_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./TEST DATABASE DAY06_w_files/jquery.snippet.css" rel="Stylesheet">
  </head>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#page_top_case">Top</a>
      <h1>TEST ORACLE DAY06</h1>
      <ol class="index">
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#case1">练习创建索引和删除索引</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#case2">练习使用序列来生成表的主键值</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 练习创建索引和删除索引</h2>
      <h3>1.1 问题</h3>
      <p>练习创建索引和删除索引：</p>
      <p>1）book表的name列上创建索引index_name；</p>
      <p>2）book表的name，author，pub列上创建索引；</p>
      <p>3）删除索引index_name；</p>
      <h3>1.2 方案</h3>
      <p>索引是建立在表中某（几）列上的数据库对象，用于提高数据的检索速度。</p>
      <p>索引的创建:</p>
      <p>create index 索引名称on 表名(列名)tablespace表空间</p>
      <p>索引的删除:</p>
      <p>Drop index 索引名称</p>
      <h3>1.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：book表的name列上创建索引index_name</p>
      <p>book表的name列上创建索引index_name，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create index index_name</li><li>on  <span class="sh_function">book</span><span class="sh_symbol">(</span>name<span class="sh_symbol">)</span></li><li>tablespace system<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create index index_name
on  book(name)
tablespace system;
</pre></div></div>
      <p class="number">步骤二：book表的name，author，pub列上创建索引</p>
      <p>book表的name，author，pub列上创建索引，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create index index_name_author_pub</li><li>on  <span class="sh_function">book</span><span class="sh_symbol">(</span>name<span class="sh_symbol">,</span>author<span class="sh_symbol">,</span>pub<span class="sh_symbol">)</span></li><li>tablespace system<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create index index_name_author_pub
on  book(name,author,pub)
tablespace system;
</pre></div></div>
      <p class="number">步骤三：删除索引index_name</p>
      <p>删除索引index_name，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>drop index index_name<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">drop index index_name;
</pre></div></div>
      <h3>1.4 完整代码</h3>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create index index_name</li><li>on  <span class="sh_function">book</span><span class="sh_symbol">(</span>name<span class="sh_symbol">)</span></li><li>tablespace system <span class="sh_symbol">;</span> </li><li>create index index_name_author_pub</li><li>on  <span class="sh_function">book</span><span class="sh_symbol">(</span>name<span class="sh_symbol">,</span>author<span class="sh_symbol">,</span>pub<span class="sh_symbol">)</span></li><li>tablespace system<span class="sh_symbol">;</span></li><li>drop index index_name<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create index index_name
on  book(name)
tablespace system ; 
create index index_name_author_pub
on  book(name,author,pub)
tablespace system;
drop index index_name;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case2">
      </a>
      <h2>2 练习使用序列来生成表的主键值</h2>
      <h3>2.1 问题</h3>
      <p>使用序列来生成表的主键的数值：</p>
      <p>1）创建employ表，eidnumber类型 主键，ename varchar2（20）；</p>
      <p>2）创建序列：eid_seq；</p>
      <p>3）往employ表中插入5条数据，利用序列eid_seq来生成主键的值；</p>
      <p>4）查询employ表中所有的数据；</p>
      <h3>2.2 方案</h3>
      <p>序列：Oracle数据库中的一个数据库对象，通过序列可以实现列值的自动增长，经常利用序列来生成表中主键的值。</p>
      <p>创建序列</p>
      <p>create   sequence  序列名称</p>
      <p>序列有两个重要属性，currval和nextval：</p>
      <p>currval用于获得序列的当前值；</p>
      <p>nextval用于获得序列的下一个值。</p>
      <h3>2.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：创建employ表，eid number类型 主键，ename varchar2（20）</p>
      <p>创建employ表，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create table <span class="sh_function">employ</span><span class="sh_symbol">(</span></li><li>eid number primary key<span class="sh_symbol">,</span></li><li>ename <span class="sh_function">varchar2</span><span class="sh_symbol">(</span><span class="sh_number">50</span><span class="sh_symbol">)</span> not <span class="sh_keyword">null</span></li><li><span class="sh_symbol">);</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create table employ(
eid number primary key,
ename varchar2(50) not null
);
</pre></div></div>
      <p class="number">步骤二：创建序列：eid_seq</p>
      <p>创建序列：eid_seq，SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create sequence eid_seq<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create sequence eid_seq;
</pre></div></div>
      <p class="number">步骤三：往employ表中插入5条数据，利用序列eid_seq来生成主键的值</p>
      <p>往employ表中插入5条数据，利用序列eid_seq来生成主键的值,SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'李白'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'杜甫'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'李贺'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'白居易'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'王勃'</span><span class="sh_symbol">);</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">insert into employ values(eid_seq.nextval,'李白');
insert into employ values(eid_seq.nextval,'杜甫');
insert into employ values(eid_seq.nextval,'李贺');
insert into employ values(eid_seq.nextval,'白居易');
insert into employ values(eid_seq.nextval,'王勃');
</pre></div></div>
      <p class="number">步骤四：查询employ表中所有的数据</p>
      <p>查询employ表中所有的数据,SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>select <span class="sh_symbol">*</span> from employ<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">select * from employ;
</pre></div></div>
      <h3>2.4 完整代码</h3>
      <p>本案例中，完整SQL语句如下所示：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>create table <span class="sh_function">employ</span><span class="sh_symbol">(</span></li><li>eid number primary key<span class="sh_symbol">,</span></li><li>ename <span class="sh_function">varchar2</span><span class="sh_symbol">(</span><span class="sh_number">50</span><span class="sh_symbol">)</span> not <span class="sh_keyword">null</span></li><li><span class="sh_symbol">);</span></li><li>create sequence eid_seq<span class="sh_symbol">;</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'李白'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'杜甫'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'李贺'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'白居易'</span><span class="sh_symbol">);</span></li><li>insert into employ <span class="sh_function">values</span><span class="sh_symbol">(</span>eid_seq<span class="sh_symbol">.</span>nextval<span class="sh_symbol">,</span><span class="sh_string">'王勃'</span><span class="sh_symbol">);</span></li><li>select <span class="sh_symbol">*</span> from employ<span class="sh_symbol">;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">create table employ(
eid number primary key,
ename varchar2(50) not null
);
create sequence eid_seq;
insert into employ values(eid_seq.nextval,'李白');
insert into employ values(eid_seq.nextval,'杜甫');
insert into employ values(eid_seq.nextval,'李贺');
insert into employ values(eid_seq.nextval,'白居易');
insert into employ values(eid_seq.nextval,'王勃');
select * from employ;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/TESTING/TSDTN201801/DATABASE/DAY06/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
    </div>
  
</body></html>